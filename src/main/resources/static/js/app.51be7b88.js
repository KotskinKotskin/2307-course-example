(function(e){function t(t){for(var r,i,s=t[0],c=t[1],u=t[2],d=0,p=[];d<s.length;d++)i=s[d],a[i]&&p.push(a[i][0]),a[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);l&&l(t);while(p.length)p.shift()();return n.push.apply(n,u||[]),o()}function o(){for(var e,t=0;t<n.length;t++){for(var o=n[t],r=!0,s=1;s<o.length;s++){var c=o[s];0!==a[c]&&(r=!1)}r&&(n.splice(t--,1),e=i(i.s=o[0]))}return e}var r={},a={app:0},n=[];function i(t){if(r[t])return r[t].exports;var o=r[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=e,i.c=r,i.d=function(e,t,o){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(o,r,function(t){return e[t]}.bind(null,r));return o},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=c;n.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"51e6":function(e,t,o){},"56d7":function(e,t,o){"use strict";o.r(t);o("cadf"),o("551c"),o("f751"),o("097d");var r=o("2b0e"),a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[o("payment")],1)},n=[],i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("b-jumbotron",{attrs:{fluid:""}},[o("b-container",[o("b-alert",{staticClass:"mt-2 bigz",attrs:{show:"ok"==e.paymentStatus,variant:"success"}},[o("h1",[e._v("Оплата подтверждена и получена! Через пару минут прийдет письмо на почту с доступом к курсу ")])]),o("b-alert",{staticClass:"mt-2",attrs:{show:"no confirmation"==e.paymentStatus,variant:"info"}},[e._v("Процесс запушен, но подтверждения оплаты пока нет. Напишите на почту kotov@bpmn2.ru, если в течение 30 минут не получите доступ к курсу.")]),o("h1",[e._v("Оплатите участие в курсе")]),o("p",[e._v("Лучшие знания по BPMN, доступные онлайн")]),o("b-card",[o("b-form",[o("b-form-group",{attrs:{id:"input-group-1",label:"Email*","label-for":"input-1",description:"На него будет выслано приглашение от системы обучения"}},[o("b-form-input",{directives:[{name:"autofocus",rawName:"v-autofocus"}],attrs:{id:"input-1",state:e.nameState,type:"email",required:"",placeholder:"Введите email"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),o("b-form-invalid-feedback",{attrs:{id:"input-1-feedback"}},[e._v("\r\n                            Введите email вида х@x.x\r\n                        ")])],1),o("b-button",{attrs:{size:"sm",variant:"link"},on:{click:e.showPromoCode}},[e._v("У меня есть промокод")]),o("b-form-group",{directives:[{name:"show",rawName:"v-show",value:e.promoCodeShow,expression:"promoCodeShow"}],attrs:{id:"input-group-2"}},[o("b-form",{attrs:{inline:""}},[o("b-form-input",{attrs:{id:"input-2",state:!!e.discounted||null,placeholder:"Введите промокод"},on:{blur:e.updatePrice},model:{value:e.promoCode,callback:function(t){e.promoCode=t},expression:"promoCode"}}),o("b-button",{staticClass:"ml-2",attrs:{variant:"outline-warning"},on:{click:e.getPrice}},[e._v("Применить")])],1)],1),o("b-card-group",{attrs:{deck:""}},[o("b-card",{attrs:{title:"0704: Быстрое погружение в BPMN "}},[o("b-card-text",[e._v("Лучший способ быстро разобраться в BPMN от нуля до самостоятельного создания качественных схем.")]),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("h5",[o("b-form-radio",{attrs:{value:"0704"},model:{value:e.courseCode,callback:function(t){e.courseCode=t},expression:"courseCode"}},[e._v("Купить этот курс")])],1)])],1),o("b-card",{attrs:{title:"1204: Пилотное внедрение BPMS"}},[o("b-card-text",[e._v("Выжимка из опыта 30 проектов по внедрению BPMS от продажи идеи руководству до внедрения и оценки результатов.")]),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("h5",[o("b-form-radio",{attrs:{value:"1204"},model:{value:e.courseCode,callback:function(t){e.courseCode=t},expression:"courseCode"}},[e._v("Купить этот курс")])],1)])],1),o("b-card",{attrs:{title:"2307: Camunda для оркестрации микросервисов"}},[o("b-card-text",[e._v("Курс для тех, кто хочет ускорить разработку микросервисов и облегчить их эксплуатацию, сделать микросервисы «видимыми» и дать понимание происходящего новым разработчикам ")]),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("h5",[o("b-form-radio",{attrs:{value:"2307"},model:{value:e.courseCode,callback:function(t){e.courseCode=t},expression:"courseCode"}},[e._v("Купить этот курс")])],1)])],1)],1),o("h2",{staticClass:"mt-3 mb-3 text-center"},[e.discounted?o("span",{staticClass:"discounted"},[e._v(e._s(e.priceRespose.basePrice))]):e._e(),e._v("\r\n                        "+e._s(e.priceRespose.discountPrice>0?e.priceRespose.discountPrice:e.priceRespose.basePrice)+" рублей\r\n                    ")]),o("b-button",{staticClass:"mt-2",attrs:{block:"",size:"lg",variant:"primary",disabled:e.clicked||!e.nameState},on:{click:e.clickModal}},[e._v("\r\n                        Начать обучение\r\n                    ")])],1)],1),o("b-modal",{attrs:{"hide-footer":"",title:"Оплата"},model:{value:e.modalBool,callback:function(t){e.modalBool=t},expression:"modalBool"}},[o("p",{staticClass:"text-center"},[e._v(" 7 дней возврат средств, если вам что-то не понравится. ")]),o("div",{attrs:{id:"arsenalpay-widget"}})]),o("a",{attrs:{href:"mailto:kotov@bpmn2.ru?subject=Запрос счёта&body=Прошу выставить счет на курс ...."}},[e._v("Оплата для юр.лиц")])],1)],1)],1)},s=[],c="/api/v1/";var u={name:"Payment",data:function(){return{courseCode:"0704",promoCode:null,clicked:!1,email:null,paymentStatus:null,promoCodeShow:!1,basePrice:8900,discountPrice:0,discounted:!1,priceRespose:null,modalBool:!1,arsenal:null}},watch:{courseCode:function(e){this.getPrice()}},computed:{nameState:function(){var e=/\S+@\S+\.\S+/;return null==this.email?null:e.test(this.email)},baseUrl:function(){}},methods:{getPrice:function(){var e=this;this.axios.get(c+"/checkPrice?courseCode="+this.courseCode+"&promoCode="+this.promoCode).then(function(t){e.priceRespose=t.data,0==e.priceRespose.discountPrice&&(e.discounted=!1),0!=e.priceRespose.discountPrice&&(e.discounted=!0)})},validateEmail:function(e){var t=/\S+@\S+\.\S+/;return t.test(e)},showPromoCode:function(){this.promoCodeShow=!this.promoCodeShow},updatePrice:function(){this.getPrice()},clickModal:function(){var e=this;this.getPrice(),this.arsenal.destination=this.email+this.courseCode+this.promoCode,1==this.discounted?this.arsenal.amount=this.priceRespose.discountPrice:this.arsenal.amount=this.priceRespose.basePrice,this.modalBool=!0,setTimeout(function(){e.axios.get(c+"/callback/arsenalpay/prepareArsenalPay/"+e.email+"?courseCode="+e.courseCode+"&&promoCode="+e.promoCode).then(function(t){e.arsenal.element="arsenalpay-widget",e.arsenal.render()})},100)},generateUrl:function(){this.clicked=!0,this.axios.get(c+"/generateUrl/"+this.email+"?courseCode="+this.courseCode+"&promoCode="+this.promoCode).then(function(e){window.location.href=e.data})},checkStatus:function(){var e=this;this.axios.get(c+"/checkPayment/"+this.email).then(function(t){e.paymentStatus=t.data})}},mounted:function(){var e=this;this.$route.query.courseCode&&(this.courseCode=this.$route.query.courseCode),this.getPrice(),this.$route.query.email&&this.checkStatus(),setInterval(function(){e.checkStatus()},3e3);var t=document.createElement("script");t.setAttribute("src","https://arsenalpay.ru/widget/script.js"),document.head.appendChild(t),setTimeout(function(){e.arsenal=new ArsenalpayWidget,e.arsenal.element="arsenalpay-widget",e.arsenal.widget=2227,console.log(e.email),e.arsenal.destination=e.email+e.courseCode+e.promoCode},300)},created:function(){}},l=u,d=(o("b781"),o("2877")),p=Object(d["a"])(l,i,s,!1,null,null,null),m=p.exports;(function(e,t,o,r,a,n,i){e["MauticTrackingObject"]=a,e[a]=e[a]||function(){(e[a].q=e[a].q||[]).push(arguments)},n=t.createElement(o),i=t.getElementsByTagName(o)[0],n.async=1,n.src=r,i.parentNode.insertBefore(n,i)})(window,document,"script","https://marketing.bpmn2.ru/mtc.js","mt"),mt("send","pageview");var f={name:"app",components:{Payment:m}},h=f,b=Object(d["a"])(h,a,n,!1,null,null,null),v=b.exports,C=o("5f5b"),g=(o("f9e3"),o("2dd8"),o("bc3a")),y=o.n(g),w=o("a7fe"),P=o.n(w),k=o("1dce"),_=o.n(k),S=o("8a0a"),x=o.n(S),j=o("8c4f");r["default"].use(_.a),r["default"].directive("autofocus",x.a),r["default"].use(P.a,y.a),r["default"].use(C["a"]),r["default"].config.productionTip=!1;var B=new j["a"]({});r["default"].use(j["a"]),new r["default"]({router:B,render:function(e){return e(v)}}).$mount("#app")},b781:function(e,t,o){"use strict";var r=o("51e6"),a=o.n(r);a.a}});
//# sourceMappingURL=app.51be7b88.js.map